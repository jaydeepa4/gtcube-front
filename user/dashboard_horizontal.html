<!DOCTYPE html>
<!--[if lt IE 7]> <html class="lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]> <html class="lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]> <html class="lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Login Form</title>
  <!-- Compiled and minified CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
   <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/animate.css@3.5.2/animate.min.css">
  <!-- or -->
  <link rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">

  <!-- Font links here -->
  <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
<style>
/*blue-4cdef5
green-a4d555
blue-grey -424a5d

sky blue-Dashgum - 68dff0*/

/* 1. Green- 4abdac
      Red - fc4a1a
      Orange- F7b733
      grey - DFDCe3
    */



/*----------------------------------------------CSS for nav bar -----------------------------------------------*/   

nav{
  /*background-color:#4abdac;*/
/* Permalink - use to edit and share this gradient: http://colorzilla.com/gradient-editor/#77c9d4+0,77c9d4+0,57bc90+100 */
background: #57bc90; /* Old browsers */
background: -moz-linear-gradient(-45deg, #77c9d4 0%, #77c9d4 0%, #57bc90 100%); /* FF3.6-15 */
background: -webkit-linear-gradient(-45deg, #77c9d4 0%,#77c9d4 0%,#57bc90 100%); /* Chrome10-25,Safari5.1-6 */
background: linear-gradient(135deg, #77c9d4 0%,#77c9d4 0%,#57bc90 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#77c9d4', endColorstr='#57bc90',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */
}

nav ul li.active{
  background-color:#F7b733;
}

nav ul li:hover{
   background-color:#F7b733;
}

.brand-logo{
  margin-left:10px;
  margin-top:2px;
}


/*--------------*Mobile nav bar code----------------------------*/

.side-nav{
  /*background-color:#4abdac;*/
/* Permalink - use to edit and share this gradient: http://colorzilla.com/gradient-editor/#77c9d4+0,77c9d4+0,57bc90+100 */
background: #57bc90; /* Old browsers */
background: -moz-linear-gradient(-45deg, #77c9d4 0%, #77c9d4 0%, #57bc90 100%); /* FF3.6-15 */
background: -webkit-linear-gradient(-45deg, #77c9d4 0%,#77c9d4 0%,#57bc90 100%); /* Chrome10-25,Safari5.1-6 */
background: linear-gradient(135deg, #77c9d4 0%,#77c9d4 0%,#57bc90 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#77c9d4', endColorstr='#57bc90',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */
}

.side-nav li>a{
  color:white;
}


/*------------------------------------------------CSS for side nav bar----------------------------------------------------*/


#sidebar{
  background-color:#37474f;/*424a5d*/
  color:rgba(255, 255, 255, 0.56);
/*font-family: 'Lato',sans-serif;*/
}

.sidebaritem:hover{
   background-color:#77c9d4/*68dff0*/;
   color:white;
}

.sidebaritem{
  padding:15px 30px;
  cursor:pointer;
  /*border-bottom: 1px solid grey*/
}

 #display_image img{
    display:block;
    margin: 0 auto;
 }

 #display_name{
  padding:15px 5px;
  text-align:center;
  /*border-bottom: 1px solid grey*/
 }

.verticalalign{
  vertical-align: middle;
}
/*------------------------------------------------CSS for main content----------------------------------------------------*/

#maincontent{
  background-color:#ffffff;
}
      /*-------------------------------CSS for generic blog posts-------------*/

.post{
  margin-bottom:10px;
  margin-top:10px;
  -webkit-border-radius: 5px 5px 5px;
  border-radius: 5px 5px 5px;
}
.post_title h6{
  position: relative;
/*  font-size: 1.5em;
  font-weight: bold;*/
  padding: 5px 20px 5px 15px;
  margin: -10px 0px 0px -10px;
  color: #ffffff;
  background-color: #57bc90;
  /*text-shadow: 0px 1px 2px #bbb;*/
  -webkit-box-shadow: 0px 2px 4px #888;
  -moz-box-shadow: 0px 2px 4px #888;
  box-shadow: 0px 2px 4px #888;
  text-align:left;
}

.post_title h6:after{
  content: ' ';
  position: absolute;
  width: 0;
  height: 0;
  left: 0px;
  top: 100%;
  border-width: 5px 5px;
  border-style: solid;
  border-color: #00562A #00562A transparent transparent;
}

.dummy_div{
}

.card_title{
  text-align:center;
  color:white;
  /* Permalink - use to edit and share this gradient: http://colorzilla.com/gradient-editor/#77c9d4+0,77c9d4+0,57bc90+100 */
  background: #3F51B5; /* Old browsers */
  padding-bottom:10px;


}

.chip{
  background-color:#77c9d4;
  margin-left:2px;
}

.chip:hover{
  background-color:#57bc90;
  margin-left:2px;
  text-decoration: underline;
  color:white;
}

.chip a{
    color:white;
}

.post_tags{
  background-color:#57bc90;
  padding-top:4px;
}

.author_name{
  padding-left:0px;
  padding-right:0px;
  margin-left:0px;
  margin-right:0px;
  color:grey;
  font-size:10px;
  margin-top:10px;
  text-align:left;
}

.publish_date{
  padding-left:0px;
  padding-right:0px;
  margin-left:0px;
  margin-right:0px;
   color:grey;
  font-size:10px;
  margin-top:10px;
  text-align:right;
}

.card_content{
  padding-left:10px;
  padding-right:10px;
}

.post_without_tags{
  cursor:pointer;
}


/*------------------------------------------------CSS for footer----------------------------------------------------*/

.page-footer{
  background-color:#66b9bf;
  /* Permalink - use to edit and share this gradient: http://colorzilla.com/gradient-editor/#77c9d4+0,77c9d4+0,57bc90+100 */
background: #57bc90; /* Old browsers */
background: -moz-linear-gradient(-45deg, #57bc90 0%, #57bc90 0%, #77c9d4 100%); /* FF3.6-15 */
background: -webkit-linear-gradient(-45deg, #57bc90 0%,#57bc90 0%,#77c9d4 100%); /* Chrome10-25,Safari5.1-6 */
background: linear-gradient(135deg, #57bc90 0%,#57bc90 0%,#77c9d4 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#77c9d4', endColorstr='#57bc90',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */
}

.row{
  margin-bottom:0px;
}


/*------------------------------------------------CSS for body, main ----------------------------------------------------*/
 body {
     display: flex;
     min-height: 100vh;
     flex-direction: column;
     font-family: 'Lato',sans-serif;
 }
 main {
     flex: 1 0 auto;
 }



</style>

  <!-- Compiled and minified JavaScript -->
  
  <script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>      
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>
  <!-- <link rel="stylesheet" href="css/style.css"> -->
  <!--[if lt IE 9]><script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.17.0/axios.js"></script>
   <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>


<body>
  <!-- Header -->
  
   <nav>
    <div class="nav-wrapper">
      <a href="#" class="brand-logo"><img src='../logo.png' width='60vh'></a>
      <a href="#" data-activates="mobile-demo" class="button-collapse"><i class="material-icons">menu</i></a>
      <ul id="nav-mobile" class="right hide-on-med-and-down">
        <li class='active'><a href="profile.html">Profile</a></li>
        <li><a href="courses.html">Available Courses</a></li>
        <li><a href="coursedetail.html">Your Courses</a></li>
        <li><a href="logout.html">Logout</a></li>
      </ul>

       <ul class="side-nav" id="mobile-demo">
        <li><a href="profile.html">Profile</a></li>
        <li><a href="courses.html">Available Courses</a></li>
        <li><a href="coursedetail.html">Your Courses</a></li>
        <li><a href="logout.html">Logout</a></li>
      </ul>
    </div>
  </nav>
  <!-- Header ends here -->
  <!-- Page content starts here -->
  <main>
    <div class='row'>
    <!-- Side Nav Bar -->
    <div class="col s12 m2 l2" id='sidebar'>
      <div class='inside_sidebar'>
        <ul>

          <li id='display_image' class=''> <img src="../gold.jpeg" width='50%' alt="" class="circle responsive-img"></li>
          <li id='display_name' class=''>First Name</li>
          <li id='item2' class='sidebaritem'> <i class="tiny material-icons verticalalign">developer_board</i>&nbsp;&nbsp;<span class='verticalalign'>Your News</span></li>
          <li id='item3' class='sidebaritem'> <i class="tiny material-icons verticalalign">import_contacts</i>&nbsp;&nbsp;<span class='verticalalign'>Your Courses</span></li>
           <li id='item4' class='sidebaritem'> <i class="tiny material-icons verticalalign">account_circle</i>&nbsp;&nbsp;<span class='verticalalign'>Your Profile</span></li>
           <li id='item5' class='sidebaritem'> <i class="tiny material-icons verticalalign">fingerprint</i>&nbsp;&nbsp;<span class='verticalalign'>Your Password</span></li>
        </ul>
      </div>
    </div>

    <!-- Side Nav Bar Ends here -->
        
    <!-- Main Content -->
      <div class="col s12 m10 l10" id='maincontent'>
      <!-- Buttons to filter -->
      <div id='main_button'>
      </div>
      <!-- Blog post list -->
      <div id='main_text'>
        <div class='row'>
        <!--  ..................................... Post 1 in a row...................................................... -->
          <div class='col s12 m6 l6'>
            <div class='post z-depth-1' id='post1'>
              <div class='post_without_tags'>
                <div class="post_image" style='padding:0px;'>
                  <img src="../taj.png" width='100%'>
                </div>
                <div class='post_title'>
                   <h6>Taj Mahal as Title</h6>
                </div>
                <div class='author-date'>
                  <div class='row'>
                    <div class='col s5 m5 l5 author_name'><i class="tiny material-icons verticalalign">account_circle</i>&nbsp;&nbsp;<span class='verticalalign'>Author Name</span></div>&nbsp;&nbsp;
                    <div class='col s5 m5 l5 publish_date'><i class="tiny material-icons verticalalign">account_circle</i>&nbsp;&nbsp;<span class='verticalalign'>1 Jan, 2018</span></div>
                  </div>
                </div>
                <div class="card_content">
                  <p>I am a very simple card. I am good at containing small bits of information.
                  I am convenient because I require little markup to use effectively.</p>
                </div>
              </div>
                <div class='post_tags'>
                  <div class="chip"><a href=''>Tag 1</a></div>
                  <div class="chip"><a href=''>MBA</a></div>
                  <div class="chip"><a href=''>CAT</a></div>
                  <div class="chip"><a href=''>Data Interpretation</a></div>
                  <div class="chip"><a href=''>Data Interpretation</a></div>
                </div>
              </div>
            </div>
       
      <!--  ..................................... Post 2 in a row...................................................... -->
          <div class='col s12 m6 l6'>
            <div class='post z-depth-1' id='post1'>
              <div class='post_without_tags'>
                <div class="post_image" style='padding:0px;'>
                  <img src="../taj.png" width='100%'>
                </div>
                <div class='post_title'>
                   <h6>Taj Mahal as Title</h6>
                </div>
                <div class='author-date'>
                  <div class='row'>
                    <div class='col s5 m5 l5 author_name'><i class="tiny material-icons verticalalign">account_circle</i>&nbsp;&nbsp;<span class='verticalalign'>Author Name</span></div>&nbsp;&nbsp;
                    <div class='col s5 m5 l5 publish_date'><i class="tiny material-icons verticalalign">account_circle</i>&nbsp;&nbsp;<span class='verticalalign'>1 Jan, 2018</span></div>
                  </div>
                </div>
                <div class="card_content">
                  <p>I am a very simple card. I am good at containing small bits of information.
                  I am convenient because I require little markup to use effectively.</p>
                </div>
              </div>
                <div class='post_tags'>
                  <div class="chip"><a href=''>Tag 1</a></div>
                  <div class="chip"><a href=''>MBA</a></div>
                  <div class="chip"><a href=''>CAT</a></div>
                  <div class="chip"><a href=''>Data Interpretation</a></div>
                  <div class="chip"><a href=''>Data Interpretation</a></div>
                </div>
              </div>
            </div>
      
        </div>
         <!--  ..................................... All 2 posts in  row1 ends...................................................... -->
         <div class='row'>
        <!--  ..................................... Post 1 in a row...................................................... -->
          <div class='col s12 m4 l4'>
            <div class='post z-depth-1' id='post4'>
                <div class="post_image" style='padding:0px;'>
                  <img src="../taj.png" width='100%'>
                </div>
                <div class='post_title'>
                   <h6>Taj Mahal as Title</h6>
                </div>
                <div class='author-date'>
                  <span class='author_name'>Author Name</span>&nbsp;&nbsp;
                  <span class='publish_date'>1 January, 2018</span>
                </div>
                <div class="card-content">
                  <p>I am a very simple card. I am good at containing small bits of information.
                  I am convenient because I require little markup to use effectively.</p>
                </div>
                <div class='post_tags'>
                  <div class="chip"><a href=''>Tag 1</a></div>
                  <div class="chip"><a href=''>MBA</a></div>
                  <div class="chip"><a href=''>CAT</a></div>
                  <div class="chip"><a href=''>Data Interpretation</a></div>
                  <div class="chip"><a href=''>Data Interpretation</a></div>
                </div>
              </div>
            </div>
       
      <!--  ..................................... Post 2 in a row...................................................... -->
          <div class='col s12 m4 l4'>
            <div class='post z-depth-1' id='post5'>
                <div class="post_image" style='padding:0px;'>
                  <img src="../taj.png" width='100%'>
                </div>
                <div class='post_title'>
                   <h6>Taj Mahal as Title</h6>
                </div>
                <div class='author-date'>
                  <span class='author_name'>Author Name</span>&nbsp;&nbsp;
                  <span class='publish_date'>1 January, 2018</span>
                </div>
                <div class="card-content">
                  <p>I am a very simple card. I am good at containing small bits of information.
                  I am convenient because I require little markup to use effectively.</p>
                </div>
                <div class='post_tags'>
                  <div class="chip"><a href=''>Tag 1</a></div>
                  <div class="chip"><a href=''>MBA</a></div>
                  <div class="chip"><a href=''>CAT</a></div>
                  <div class="chip"><a href=''>Data Interpretation</a></div>
                  <div class="chip"><a href=''>Data Interpretation</a></div>
                </div>
              </div>
            </div>
      <!--  ..................................... Post 3 in a row...................................................... -->
            <div class='col s12 m4 l4'>
            <div class='post z-depth-1' id='post6'>
                <div class="post_image" style='padding:0px;'>
                  <img src="../taj.png" width='100%'>
                </div>
                <div class='post_title'>
                   <h6>Taj Mahal as Title</h6>
                </div>
                <div class='author-date'>
                  <span class='author_name'>Author Name</span>&nbsp;&nbsp;
                  <span class='publish_date'>1 January, 2018</span>
                </div>
                <div class="card-content">
                  <p>I am a very simple card. I am good at containing small bits of information.
                  I am convenient because I require little markup to use effectively.</p>
                </div>
                <div class='post_tags'>
                  <div class="chip"><a href=''>Tag 1</a></div>
                  <div class="chip"><a href=''>MBA</a></div>
                  <div class="chip"><a href=''>CAT</a></div>
                  <div class="chip"><a href=''>Data Interpretation</a></div>
                  <div class="chip"><a href=''>Data Interpretation</a></div>
                </div>
              </div>
            </div>

        </div>
         <!--  ..................................... All 3 posts in  row2 ends...................................................... -->
      </div>
    <!-- Main Content -->
    <!-- Page content starts here -->
      </div>
    </div>
  </main>
<!-- Footer starts here -->
     <footer class="page-footer">
          <div class="container">
            <div class="row">
              <div class="col l6 s12">
                <h5 class="white-text">Footer Content</h5>
                <p class="grey-text text-lighten-4">You can use rows and columns here to organize your footer content.</p>
              </div>
              <div class="col l4 offset-l2 s12">
                <h5 class="white-text">Links</h5>
                <ul>
                  <li><a class="grey-text text-lighten-3" href="#!">Link 1</a></li>
                  <li><a class="grey-text text-lighten-3" href="#!">Link 2</a></li>
                  <li><a class="grey-text text-lighten-3" href="#!">Link 3</a></li>
                  <li><a class="grey-text text-lighten-3" href="#!">Link 4</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="footer-copyright">
            <div class="container">
            © 2014 Copyright Text
            <a class="grey-text text-lighten-4 right" href="#!">More Links</a>
            </div>
          </div>

        </footer>
  <!-- Footer ends here -->
</body>
<script>
var user_id = ''
var user_details = ''
var formData =  new FormData();

$(document).ready(function(){
//MaterializeCSS JS code
$(".button-collapse").sideNav();
adjustHeight()

$(window).resize(function(){
  adjustHeight()
  });

$(window).scroll(function(){
  if($('#sidebar').width() != $('#maincontent').width()){
    //It means screen is not on small mode and hence fix side bar
    fixSidebar()
  }
  });

  function adjustHeight(){
    if($('#sidebar').width() <= $('#maincontent').width()-1){
      //Sidebar is smaller than maincontent and hence its not on small mode
      if($('#sidebar').height()<=$('#maincontent').height()){
        //Sidebar height needs to be set equal to maincontent
        $('#sidebar').css('min-height',$('#maincontent').height())
      }else{
        //Sidebar is taller than main content and need to ensure that both occupy full space with footer sticking to base
         $('#sidebar').css('min-height',$(document).height()-$('nav').height()-$('footer').height())
         $('#maincontent').css('min-height',$(document).height()-$('nav').height()-$('footer').height())
      }
    }else{
      //Sidebar filled entire width of the screen and hence height should be simple 100%
      $('#sidebar').css('min-height','100%')
    }
    
    }

  function fixSidebar(){
    //Find the location of screen from top
    var current =  $(window).scrollTop();
    var navheight = $('nav').height()
    if(current > navheight){
      $('.inside_sidebar').css('margin-top',current-navheight)
    }else{
      $('.inside_sidebar').css('margin-top','0px')
    }
    
  }

//Jquery based animation
$('.post').hover(function(){
  $(this).addClass('z-depth-4').removeClass('z-depth-1')
},function(){
  $(this).addClass('z-depth-1').removeClass('z-depth-4')
})

//Animate CSS JS Code
  function addHoverAnimation(className,animation, infinite=0){
    $(className).hover(
    function(){
      if (infinite == 0) {
        $(this).addClass('animated '+ animation);
      }else{
        $(this).addClass('animated infinite '+ animation);
      }
      
  }, 
  function(){
    if (infinite == 0) {
        $(this).removeClass('animated '+ animation);
      }else{
        $(this).removeClass('animated infinite '+ animation);
      }
      
  })
  
  }

  
  addHoverAnimation('#sidebar li .sidebaritem','fadeIn')
  addHoverAnimation('nav ul li', 'fadeIn')

  //API Call JS Code
  get_user_details()
  

  function parseJwt (token) {
    var base64Url = token.split('.')[1];
    var base64 = base64Url.replace('-', '+').replace('_', '/');
    return JSON.parse(window.atob(base64));
  };

  function get_user_details(){ 
    //First identify the user from token
    user_details = parseJwt(localStorage.getItem('key_id'))
    console.log(user_details.email)
    axios({
    method: 'get',
    url: 'https://gtcube.herokuapp.com/seller/sellerdetail/'+user_details.email,
    }).then(function(response){
    //Successful response
    if(response.data){
    //Received the data
    get_profile_data(response.data['id'])
    user_id = response.data['id']
    
    }
    }).catch(function(error){
    console.log(error.response)
    
    });

  }

 function get_profile_data(user_id){
   //1. Collect the details from GET request
  axios({
  method: 'get',
  url: 'https://gtcube.herokuapp.com/seller/profile/'+user_id,
  headers: { Authorization: "JWT "+localStorage.getItem('key_id') },
}).then(function(response){
  //Successful response
  if(response.data){
    //Received the data
    //Add display image
    //$('#display_image').html('<img width=90% src="'+response.data['display_image']+'"></img><p>Display Picture</p>')
    //Fill the fields
    $('#email').val(response.data['email'])
    $('#phone').val(response.data['phone'])
    $('#country').val(response.data['country'])
  }
  }).catch(function(error){
    console.log(error.response)
  });
 }
  
 //2. Update the details with POST request
$('#update_button').click(function(){
   

  //Input fields updating
  var email = $('#email').val()
  var phone = $('#phone').val()
  var country = $("#country").val()

  formData.append("email", email);
  formData.append("phone", phone);
  formData.append("country", country);
  //formData.append("display_image", $("#display_image_field")[0].files[0]);

  axios({
  method: 'put',
  url: 'https://gtcube.herokuapp.com/seller/profile/'+user_id+'/',
  headers: { Authorization: "JWT "+localStorage.getItem('key_id') },
  /* headers: {
    'Content-Type': 'application/json',
    'Accept': 'application/json'
  },*/
  data: formData
}).then(function(response){
    get_profile_data(user_id)
  console.log(response.data)
  }).catch(function(error){
    console.log(error.response)
  });

})  

})

</script>

</html>